<?php


require __DIR__ . '/data.php';

require __DIR__ . '/functions.php';

require __DIR__ . '/headHtml.php'; ?>


<main class="wrapper">
    <aside class="rightColumn">
        <section class="card popNews">
            <h3>Popular News</h3>
            <?php foreach (sortByLikes($posts) as $post) : ?>
                <a href="#" class="popNewsItems">
                    <span><?php echo $post['title']; ?> </span>
                    <svg class="arrow" width="8" height="14" viewBox="0 0 8 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M0 12L5 7L0 2L1 0L8 7L1 14L0 12Z" fill="black" /></svg>
                </a>
                <?php if ($post['likes'] < 30) :

                    break;

                endif; ?>

            <?php endforeach; ?>
        </section>
        <section class="card follow">
            <section class="socials">
                <a class="facebook" href="https://www.facebook.com/"><svg width="60" height="60" viewBox="0 0 94 94" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M55.8218 93.1734C77.5623 89.0449 94 69.9421 94 47C94 21.0426 72.9574 0 47 0C21.0426 0 0 21.0426 0 47C0 71.123 18.1736 91.0013 41.5762 93.6904V62.0625H30V48.8518H41.5762V38.7823C41.5762 27.3282 48.3827 21 58.796 21C63.7842 21 69 21.892 69 21.892V33.1385H63.2517C57.5876 33.1385 55.8218 36.6631 55.8218 40.2766V48.8495H68.4675L66.4445 62.0602L55.8218 62.0625V93.1734Z" fill="#4E36DF" /></svg>
                </a>
                <a class="twitter" href="https://twitter.com/"><svg width="60" height="60" viewBox="0 0 94 94" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M47 94C72.9574 94 94 72.9574 94 47C94 21.0426 72.9574 0 47 0C21.0426 0 0 21.0426 0 47C0 72.9574 21.0426 94 47 94ZM67.6704 36.4519C69.7754 34.9423 71.5519 33.1167 73 30.975H72.9999C71.0404 31.8348 68.9975 32.3902 66.8714 32.6415C69.1847 31.2645 70.7466 29.3077 71.5572 26.7712C69.4532 28.0141 67.1957 28.873 64.7847 29.3479C62.6745 27.116 60.0782 26 56.9959 26C54.0519 26 51.538 27.0358 49.4543 29.1075C47.3706 31.1792 46.3288 33.6786 46.3288 36.6059C46.3291 37.4443 46.4223 38.2491 46.6084 39.0203C42.2449 38.8039 38.1587 37.7187 34.3498 35.7647C30.541 33.8107 27.2986 31.2012 24.6228 27.9362C23.6611 29.5817 23.1802 31.3584 23.1802 33.2664C23.1802 35.0755 23.6071 36.7569 24.4609 38.3106C25.3146 39.8644 26.4703 41.1244 27.928 42.0906C26.2163 42.0375 24.6053 41.5952 23.095 40.7637V40.895C23.095 43.4426 23.9059 45.6899 25.5278 47.637C27.1498 49.5841 29.191 50.8027 31.6516 51.2927C30.7308 51.5394 29.7947 51.6628 28.8434 51.6628C28.1825 51.6628 27.5128 51.5985 26.8342 51.47C27.5207 53.6003 28.776 55.3501 30.6002 56.7195C32.4243 58.0889 34.4892 58.7946 36.7949 58.8367C32.9065 61.8656 28.4897 63.3801 23.5446 63.3801C22.7326 63.3801 21.8844 63.3312 21 63.2333C25.9829 66.4111 31.4339 68 37.3532 68C41.146 68 44.7008 67.4035 48.0178 66.2105C51.3347 65.0176 54.1743 63.4181 56.5367 61.4121C58.899 59.406 60.9346 57.1035 62.6435 54.5044C64.3524 51.9053 65.6227 49.1845 66.4542 46.342C67.2858 43.4995 67.7016 40.6604 67.7016 37.8248C67.7016 37.3144 67.6912 36.8568 67.6704 36.4519Z" fill="#4E36DF" /></svg>
                </a>
                <a class="instagram" href="https://www.instagram.com/"><svg width="60" height="60" viewBox="0 0 94 94" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M47 94C72.9574 94 94 72.9574 94 47C94 21.0426 72.9574 0 47 0C21.0426 0 0 21.0426 0 47C0 72.9574 21.0426 94 47 94ZM34.6376 17.1744C37.8289 17.0394 38.8451 17 46.9995 17C55.1539 17 56.1683 17.03 59.3614 17.1744C62.5564 17.3319 64.7333 17.8288 66.6458 18.5713C68.651 19.3197 70.4653 20.5038 71.9576 22.0381C73.4857 23.5356 74.6689 25.3484 75.4245 27.35C76.1558 29.2513 76.6639 31.4394 76.8214 34.6344C76.9564 37.8256 76.9958 38.8419 76.9958 46.9963C76.9958 55.1506 76.9658 56.165 76.8214 59.3581C76.6639 62.5531 76.1576 64.73 75.4245 66.6425C74.6761 68.6478 73.492 70.462 71.9576 71.9544C70.4601 73.4825 68.6474 74.6656 66.6458 75.4212C64.7333 76.1525 62.5564 76.6606 59.3614 76.8181C56.1701 76.9531 55.1539 76.9925 46.9995 76.9925C38.8451 76.9925 37.8308 76.9625 34.6376 76.8181C31.4426 76.6606 29.2658 76.1544 27.3533 75.4212C25.3491 74.6705 23.5354 73.4867 22.0414 71.9544C20.5133 70.4569 19.3302 68.6441 18.5745 66.6425C17.832 64.73 17.3351 62.5531 17.1776 59.3581C17.0426 56.1669 17.0033 55.1506 17.0033 46.9963C17.0033 38.8419 17.0333 37.8275 17.1776 34.6344C17.3351 31.43 17.832 29.2625 18.5745 27.35C19.3253 25.3459 20.509 23.5321 22.0414 22.0381C23.5389 20.51 25.3516 19.3269 27.3533 18.5713C29.2658 17.8288 31.4333 17.3319 34.6376 17.1744ZM59.1289 22.5744C55.9639 22.4394 55.0076 22.4 46.9995 22.4L46.8758 22.3138C39.0612 22.3138 37.9728 22.3529 34.9763 22.4608L34.7389 22.4694C31.8083 22.6156 30.237 23.1031 29.1814 23.5137C27.7564 24.0425 26.7776 24.7175 25.7333 25.7619C24.6795 26.8175 24.0064 27.7925 23.4889 29.2194C23.0689 30.2656 22.5889 31.8744 22.4333 34.805C22.4268 34.998 22.4205 35.1829 22.4144 35.3617C22.3204 38.133 22.2758 39.4498 22.2758 46.9531C22.2758 54.4741 22.3206 55.7803 22.415 58.5293C22.4209 58.7012 22.427 58.8787 22.4333 59.0638C22.5889 61.9944 23.0689 63.6069 23.4889 64.6494C24.0064 66.0462 24.6776 67.0512 25.7333 68.1069C26.7795 69.1531 27.7564 69.7869 29.1814 70.355C30.237 70.7656 31.8476 71.2531 34.767 71.4106C37.9526 71.5569 38.8883 71.5963 46.917 71.5963C54.9458 71.5963 55.8833 71.5569 59.0651 71.4219C61.9958 71.285 63.6083 70.7975 64.6508 70.385C65.9533 69.9027 67.1337 69.1397 68.1083 68.15C69.1545 67.085 69.7883 66.1006 70.3564 64.6925C70.767 63.6369 71.2545 62.0469 71.412 59.1275C71.5583 55.9625 71.5976 55.0044 71.5976 46.9981C71.5976 38.9919 71.5583 38.0338 71.4233 34.8688C71.2864 31.9494 70.7989 30.3594 70.3864 29.3037C69.9095 28.0013 69.1456 26.8228 68.1514 25.8556C67.1801 24.8597 65.9989 24.093 64.6939 23.6113C63.6383 23.1988 62.0483 22.7113 59.1289 22.5744ZM41.1056 32.7713C42.9742 31.9977 44.977 31.5999 46.9995 31.6006C49.022 31.5999 51.0248 31.9977 52.8935 32.7713C54.7621 33.545 56.4601 34.6792 57.8902 36.1094C59.3203 37.5395 60.4546 39.2374 61.2282 41.106C62.0018 42.9747 62.3996 44.9775 62.3989 47C62.3996 49.0225 62.0018 51.0253 61.2282 52.894C60.4546 54.7626 59.3203 56.4605 57.8902 57.8907C56.4601 59.3208 54.7621 60.455 52.8935 61.2287C51.0248 62.0023 49.022 62.4001 46.9995 62.3994C44.977 62.4001 42.9742 62.0023 41.1056 61.2287C39.2369 60.455 37.539 59.3208 36.1089 57.8907C34.6788 56.4605 33.5445 54.7626 32.7708 52.894C31.9972 51.0253 31.5994 49.0225 31.6001 47C31.5994 44.9775 31.9972 42.9747 32.7708 41.106C33.5445 39.2374 34.6788 37.5395 36.1089 36.1094C37.539 34.6792 39.2369 33.545 41.1056 32.7713ZM37.0001 47C37.0001 52.5275 41.472 56.9994 46.9995 56.9994C52.527 56.9994 56.9989 52.5275 56.9989 47C56.9989 41.4725 52.527 37.0006 46.9995 37.0006C41.472 37.0006 37.0001 41.4725 37.0001 47ZM65.5621 33.5328C66.2382 32.8574 66.6185 31.9412 66.6195 30.9856C66.6195 29.0038 64.9958 27.3913 63.0139 27.3913C62.5414 27.3913 62.0735 27.4843 61.6369 27.6651C61.2004 27.846 60.8037 28.111 60.4696 28.4451C60.1355 28.7792 59.8705 29.1759 59.6897 29.6124C59.5088 30.049 59.4158 30.5169 59.4158 30.9894C59.4158 31.4619 59.5088 31.9298 59.6897 32.3663C59.8705 32.8029 60.1355 33.1995 60.4696 33.5336C60.8037 33.8678 61.2004 34.1328 61.6369 34.3136C62.0735 34.4944 62.5414 34.5875 63.0139 34.5875C63.9695 34.5875 64.886 34.2081 65.5621 33.5328Z" fill="#4E36DF" /></svg>
                </a>


            </section>

        </section>
    </aside>
    <section class="articles leftColumn">
        <?php foreach (sortByDate($posts) as $post) :
            if ($post['category'] === 'Culture') : ?>
                <article>
                    <h3><?php echo $post['category']; ?></h3>
                    <h2><?php echo $post['title']; ?></h2>
                    <div class="fakeImg"><img src="<?php echo $post['img']; ?>"> </div>
                    <p class="preamble"><?php echo $post['preamble'];  ?>
                        <br>
                        <br>
                        <p class="mainContent"><?php echo $post['content'];  ?></p>
                        <h5><?php echo 'Author: ' . getAuthorById($post['id'], $authors); ?>
                            <br><?php echo 'Published date: ' . $post['published_date']; ?></h5>
                        <svg class="star" width="25" height="25" viewBox="0 0 152 145" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M72.1672 3.83781C73.3039 0.030224 78.696 0.0302325 79.8328 3.83782L93.9585 51.1511C94.4746 52.8797 96.0839 54.049 97.8874 54.0056L147.25 52.8193C151.223 52.7238 152.889 57.852 149.619 60.1098L108.986 88.1647C107.502 89.1897 106.887 91.0816 107.486 92.7834L123.868 139.363C125.186 143.112 120.824 146.281 117.666 143.869L78.4282 113.895C76.9946 112.8 75.0054 112.8 73.5718 113.895L34.3338 143.869C31.1761 146.281 26.8138 143.112 28.1322 139.363L44.5144 92.7834C45.1129 91.0816 44.4982 89.1897 43.0136 88.1647L2.38111 60.1098C-0.888837 57.852 0.777418 52.7238 4.74993 52.8193L54.1126 54.0056C55.9161 54.049 57.5254 52.8797 58.0415 51.1511L72.1672 3.83781Z" fill="#F39D1A" /></svg>
                        <p class="countLikes"><?php echo $post['likes']; ?>
                        </p>
                </article>
        <?php endif;
        endforeach; ?>
    </section>
</main>
<?php require __DIR__ . '/footer.php';
